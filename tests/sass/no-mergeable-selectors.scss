// comments denote default rule behaviour

h1 {
  color: #fff;
}

// mergeable with the rule above
h1 {
  margin: 0;
}

// .new should become a nested selector
h1.new > p{
  color: #000;
}

h1,
h2,
h3 {
  color: #fff;
}

// mergeable with the rule above
h1, h2, h3 {
  color: #fff;
}

// .test should become a nested selector
.mergeable .test {
  color: #000;
}

// mergeable with the rule above
// .test should become a nested selector
.mergeable .test {
  border: 1px solid #fff;
}

.mergeable, .test {
  color: #000;
}

// mergeable with the rule above
.mergeable, .test {
  border: 1px solid #fff;
}

// #h1.new should be nested within the parent class
.mergeable #h1.new {
  color: #000;
}

// attribute should be nested
input[type='text'] {
  border: 0;
}

// mergeable with the rule above
// attribute should be nested
input[type='text'] {
  background: none;
}

// attribute should be nested
input[type='radio'] {
  color: red;
}

ul > li {
  padding: 0;
}

// mergeable with the rule above
ul > li {
  margin: 0;
}

// p should be nested
div p {
  padding: 0;
}

// meregeable with the rule above
// p should be nested
div p {
  padding: 0;
}

div > p {
  margin: 0;
}

// mergeable with the rule above
div > p {
  padding: 0;
}

* {
  margin: 0;
}

//mergeable with the rule above
* {
  margin: 0;
}

[target] {
  padding: 0;
}

// mergeable with the rule above
[target] {
  padding: 0;
}

// pseudo class should be nested
p:last-child {
  margin: 0;
}

// pseudo class should be nested
// rule is mergeable with the rule above
p:last-child {
  margin: 0;
}

// pseudo class should be nested
p:nth-of-type(2) {
  margin: 0;
}

// pseudo class should be nested
// rule is mergeable with the rule above
p:nth-of-type(2) {
  margin: 0;
}

// pseudo class should be nested
input:read-only {
  content: '';
}

// pseudo class should be nested
// mergeable with the rule above
input:read-only {
  content: '';
}

.b-some {

  .image + .buttons {
    margin-top: 14px;

    &__test {
      content: '';

      #h1 {
        content: '';
      }

      #h2 {
        content: '';
      }
    }
  }
  .image {
    content: '';
  }

  //mergeable with the .image rule directly above
  .image {
    margin: 2px;

    .image + .buttons {
      margin-top: 14px;

      &__test {
        content: '';

        #h1 {
          content: '';
        }

        #h2 {
          content: '';
        }
      }
    }
  }
  &__end {
    content: '';
  }
}

// mergeable with the previous block
.b-some {

  &__image {
    width: 100%;
  }
  &__image + &__buttons {
    margin-top: 14px;
  }

  //mergeable with the end rule in the previous block
  &__end {
    content: '';
  }
}

// pseudo element should be nested with the parent ident
p::first-line {
    color: #ff0000;
    font-variant: small-caps;
}

// pseudo element should be nested with the parent ident
// mergeable with the rule above
p::first-line {
  color: #ff0000;
  font-variant: small-caps;
}

ul ~ p {
   color: #ff0000;
}
