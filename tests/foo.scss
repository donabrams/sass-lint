$primary: red;

%bar {
  background: $primary;
}

.foo {
  @extend %bar;
  $secondary:green;
  color : red;
  font-size: 0.4em;
  box-shadow: .5em .5em black, 0.1em .4em red;
}

.baz {
  @extend .foo%bar;
}

.qux {
  @extend .foo;
}